# Sovereign SDK Research

Sovereign SDK 是一个免费的开源工具包，用于构建 Rollup（ZK 和Optimistic），目前正在开发中。 Sovereign SDK 由三个逻辑组件组成：

1. Rollup 接口，定义汇总的最小接口集
2. 模块系统，一个用 Rollup 接口构建 rollup 的固执己见的框架
3. 完整节点，一个能够运行任何实现 Rollup 接口的 rollup 的客户端实现。

## Rollup 接口

Sovereign SDK 的核心是 Rollup 接口，它定义了 rollup 必须实现的接口。在 Sovereign SDK 中，我们将 rollup 定义为三个组件的组合：

1. 状态转换函数（“STF”），定义汇总的“业务逻辑”
2. 数据可用性层（“DA 层”），确定馈送到状态转换函数的事务集
3. 零知识证明系统（又名“零知识虚拟机”或“ZKVM”），它采用编译后的汇总代码并生成逻辑已正确执行的简洁证明。

Sovereign SDK 的主要目标之一是实现这三个组件之间的关注点完全分离。大多数 rollup 开发人员不需要实现 DA 层接口 - 他们可以使用 SDK 编写逻辑，并与任何 DA 层兼容 - 因此在新链上部署他们的 rollup 就像选择特定 DA 层的适配器一样简单现成的。

同样，构建 DA 层的团队不需要担心将使用他们的链构建什么样的状态转换。他们所需要做的就是实现DA层接口，并且他们自动兼容所有状态转换功能。

Rollup Interface 的代码位于 rollup-interface 文件夹中。对于技术描述，我们推荐此处的概述。如果您想要技术性较低的介绍，请参阅此博客文章。

## 模块系统

虽然 Rollup Interface 定义了一组强大的抽象，但它对于状态转换函数应该如何实际工作没有任何意见。就接口而言，您的状态机可能与经典的“区块链”金融应用程序无关 - 因此它没有状态、账户、代币等内置概念。这意味着 Rollup Interface 包本身无法提供“自带电池”的开发体验。但我们 Sovereign 的目标之一是让开发 Rollup 像部署智能合约一样简单。因此，我们构建了一组额外的工具来定义状态转换函数，称为模块系统。

模块系统的核心是包 sov-modules-api 。该包定义了一组核心特征，这些特征表示如何将单独模块中实现的功能组合成能够处理事务和服务 RPC 请求的 Runtime 。它还定义了用于实现大多数这些特征的宏。对于许多应用程序来说，使用模块系统定义状态转换函数应该像从货架上挑选一些模块并定义将它们粘合在一起的结构一样简单。为了提供这种体验，模块系统依赖于每个模块中使用的一组通用类型和特征。 sov-modules-api 箱定义了这些特征（如 Context 和 MerkleTreeSpec ）和类型，如 Address 。

在模块 API 之上，我们提供了一个由 Jellyfish Merkle 树支持的状态存储层以及一系列用于处理有状态事务的有用实用程序。最后，我们提供了一组实现常见区块链功能的模块，例如 Accounts 和可替换的 Tokens 。

有关模块系统的更多信息，请参阅其自述文件。您还可以在此处找到有关实现和部署自定义模块的教程。

## The Full Node 全节点

该存储库的最后一个组件是完整节点，它是一个客户端实现，能够运行任何实现 Rollup 接口的 rollup。完整节点提供了一种部署和运行汇总的简单方法。使用默认配置，它可以自动将链数据存储在数据库中，为链数据和应用程序状态提供 RPC 请求，并与 DA 层交互以同步其状态并发送交易。虽然完整的节点实现应该与自定义状态转换函数兼容，但目前仅针对使用模块系统构建的汇总进行了测试。如果您在运行全节点时遇到任何困难，请联系或提出问题！所有核心开发人员都可以通过 Discord 联系到。
